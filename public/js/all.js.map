{"version":3,"sources":["app.js","controllers/CategoryController.js","controllers/PostController.js","controllers/TagController.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["angular.module('app', ['ui.router', 'restangular', 'angularMoment']).run(['$rootScope', '$state', '$stateParams', function ($rootScope, $state, $stateParams) {\r\n    $rootScope.$state = $state;\r\n    $rootScope.$stateParams = $stateParams;\r\n    $rootScope.authenticated = true;\r\n\r\n    $rootScope.$on(\"$stateChangeStart\", function (event, toState, toParams, fromState, fromParams) {\r\n        // TODO: implement authentication\r\n        if (toState.authenticate && !$rootScope.authenticated) {\r\n            $state.transitionTo(fromState.name == '' ? 'home.index' : fromState.name);\r\n            event.preventDefault();\r\n        }\r\n    });\r\n}]).config(['$stateProvider', '$locationProvider', 'RestangularProvider', function ($stateProvider, $locationProvider, RestangularProvider) {\r\n    $locationProvider.html5Mode(true);\r\n    RestangularProvider.setBaseUrl('/api');\r\n\r\n    $stateProvider.state('home', {\r\n        abstract: true,\r\n        views: {\r\n            main: {\r\n                templateUrl: '/templates/home.html'\r\n            }\r\n        }\r\n    }).state('home.index', {\r\n        url: '/',\r\n        views: {\r\n            posts: {\r\n                templateUrl: '/templates/post.list.html',\r\n                controller: 'PostListController'\r\n            },\r\n            categories: {\r\n                templateUrl: '/templates/category.list.html',\r\n                controller: 'CategoryListController'\r\n            },\r\n            tags: {\r\n                templateUrl: '/templates/tag.list.html',\r\n                controller: 'TagListController'\r\n            }\r\n        }\r\n    }).state('post', {\r\n        abstract: true,\r\n        views: {\r\n            main: {\r\n                templateUrl: '/templates/post.html'\r\n            }\r\n        }\r\n    }).state('post.index', {\r\n        url: '/posts',\r\n        views: {\r\n            posts: {\r\n                templateUrl: '/templates/post.list.html',\r\n                controller: 'PostListController'\r\n            }\r\n        }\r\n    }).state('post.create', {\r\n        url: '/post/create',\r\n        views: {\r\n            posts: {\r\n                templateUrl: '/templates/post.create.html',\r\n                controller: 'PostCreateController'\r\n            }\r\n        },\r\n        authenticate: true\r\n    }).state('post.detail', {\r\n        url: '/post/:id',\r\n        views: {\r\n            posts: {\r\n                templateUrl: '/templates/post.detail.html',\r\n                controller: 'PostDetailController'\r\n            }\r\n        }\r\n    }).state('post.edit', {\r\n        url: '/post/:id/edit',\r\n        views: {\r\n            posts: {\r\n                templateUrl: '/templates/post.edit.html',\r\n                controller: 'PostEditController'\r\n            }\r\n        }\r\n    }).state('tag', {\r\n        abstract: true,\r\n        views: {\r\n            main: {\r\n                templateUrl: '/templates/tag.html'\r\n            }\r\n        }\r\n    }).state('tag.index', {\r\n        url: '/tags',\r\n        views: {\r\n            tags: {\r\n                templateUrl: '/templates/tag.list.html',\r\n                controller: 'TagListController'\r\n            }\r\n        }\r\n    }).state('tag.create', {\r\n        url: '/tag/create',\r\n        views: {\r\n            tags: {\r\n                templateUrl: '/templates/tag.create.html',\r\n                controller: 'TagCreateController'\r\n            }\r\n        },\r\n        authenticate: true\r\n    }).state('category', {\r\n        abstract: true,\r\n        views: {\r\n            main: {\r\n                templateUrl: '/templates/category.html'\r\n            }\r\n        }\r\n    }).state('category.index', {\r\n        url: '/categories',\r\n        views: {\r\n            categories: {\r\n                templateUrl: '/templates/category.list.html',\r\n                controller: 'CategoryListController'\r\n            }\r\n        }\r\n    }).state('category.create', {\r\n        url: '/category/create',\r\n        views: {\r\n            categories: {\r\n                templateUrl: '/templates/category.create.html',\r\n                controller: 'CategoryCreateController'\r\n            }\r\n        },\r\n        authenticate: true\r\n    });\r\n}]).constant('angularMomentConfig', {\r\n    preprocess: 'utc'\r\n});","angular.module('app').controller('CategoryListController', ['$scope', 'Restangular', function($scope, Restangular) {\r\n    $scope.categories = Restangular.all('category').getList().$object;\r\n}]);\r\n\r\nangular.module('app').controller('CategoryCreateController', ['$scope', 'Restangular', function($scope, Restangular) {\r\n    $scope.category = {};\r\n\r\n    $scope.create = function(category) {\r\n        Restangular.all('category').post(category);\r\n    };\r\n\r\n    $scope.cancel = function() {\r\n        resetForm();\r\n    };\r\n\r\n    var resetForm = function() {\r\n        $scope.category = null;\r\n        $scope.categoryForm.$setPristine();\r\n    };\r\n}]);","angular.module('app').controller('PostCreateController', ['$scope', 'Restangular', function($scope, Restangular) {\r\n    $scope.tags = Restangular.all('tag').getList().$object;\r\n    $scope.categories = Restangular.all('category').getList().$object;\r\n\r\n    $scope.post = {};\r\n\r\n    $scope.create = function(post) {\r\n        Restangular.all('post').post(post);\r\n    };\r\n\r\n    $scope.cancel = function() {\r\n        resetForm();\r\n    };\r\n\r\n    var resetForm = function() {\r\n        $scope.post = null;\r\n        $scope.postForm.$setPristine();\r\n    };\r\n}]);\r\n\r\nangular.module('app').controller('PostListController', ['$scope', 'Restangular', function($scope, Restangular) {\r\n    $scope.posts = Restangular.all('post').getList().$object;\r\n}]);\r\n\r\nangular.module('app').controller('PostDetailController', ['$scope', '$stateParams', 'Restangular', function($scope, $stateParams, Restangular) {\r\n    $scope.post = Restangular.one('post', $stateParams.id).get().$object;\r\n}]);\r\n\r\nangular.module('app').controller('PostEditController', ['$scope', '$stateParams', 'Restangular', function($scope, $stateParams, Restangular) {\r\n    $scope.tags = Restangular.all('tag').getList().$object;\r\n    $scope.categories = Restangular.all('category').getList().$object;\r\n    Restangular.one('post', $stateParams.id).get().then(function(post) {\r\n        $scope.post = post;\r\n        $scope.post.categories = _.map($scope.post.categories, 'id');\r\n        $scope.post.tags = _.map($scope.post.tags, 'id');\r\n    });\r\n\r\n    $scope.update = function(post) {\r\n        post.save();\r\n    };\r\n\r\n    $scope.cancel = function() {\r\n        resetForm();\r\n    };\r\n\r\n    var resetForm = function() {\r\n        $scope.post = null;\r\n        $scope.postForm.$setPristine();\r\n    };\r\n}]);\r\n","angular.module('app').controller('TagListController', ['$scope', 'Restangular', function($scope, Restangular) {\r\n    $scope.tags = Restangular.all('tag').getList().$object;\r\n}]);\r\n\r\nangular.module('app').controller('TagCreateController', ['$scope', 'Restangular', function($scope, Restangular) {\r\n    $scope.category = {};\r\n\r\n    $scope.create = function(tag) {\r\n        Restangular.all('tag').post(tag);\r\n    };\r\n\r\n    $scope.cancel = function() {\r\n        resetForm();\r\n    };\r\n\r\n    var resetForm = function() {\r\n        $scope.tag = null;\r\n        $scope.tagForm.$setPristine();\r\n    };\r\n}]);"],"sourceRoot":"/source/"}